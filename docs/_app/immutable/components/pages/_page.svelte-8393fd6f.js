import{S as w,i as $,s as k,k as G,l as M,m as V,h as d,n as p,U as W,b as v,M as m,J as b,V as F,W as _,f,g as J,d as L,t as g,X,Y,e as q,w as z,x as S,y,z as E,q as j,r as H,E as K,F as C,L as B}from"../../chunks/index-74fc1a12.js";import{s as D}from"../../chunks/canvas-ab1b9a46.js";import{b as Q}from"../../chunks/index-93e9896f.js";import{P as R,g as T}from"../../chunks/Page-2e0e5016.js";import{b as I}from"../../chunks/bubblewrap-410b0e07.js";function Z(l){let e,o,t;return{c(){e=G("div"),this.h()},l(r){e=M(r,"DIV",{class:!0}),V(e).forEach(d),this.h()},h(){p(e,"class","border-2 rounded-md p-3 md:p-4 w-1 transition transition-colors hover:cursor-pointer hover:transition hover:transition-colors"),W(e,"bg-gray-200",l[0])},m(r,s){v(r,e,s),o||(t=[m(e,"mouseover",l[1]),m(e,"focus",l[2]),m(e,"mouseout",l[3]),m(e,"blur",l[4]),m(e,"click",l[5])],o=!0)},p(r,[s]){s&1&&W(e,"bg-gray-200",r[0])},i:b,o:b,d(r){r&&d(e),o=!1,F(t)}}}function x(l,e,o){let{hovered:t}=e;function r(a){_.call(this,l,a)}function s(a){_.call(this,l,a)}function n(a){_.call(this,l,a)}function u(a){_.call(this,l,a)}function i(a){_.call(this,l,a)}return l.$$set=a=>{"hovered"in a&&o(0,t=a.hovered)},[t,r,s,n,u,i]}class ee extends w{constructor(e){super(),$(this,e,x,Z,k,{hovered:0})}}function N(l,e,o){const t=l.slice();return t[8]=e[o],t[10]=o,t}function O(l,e,o){const t=l.slice();return t[8]=e[o],t[12]=o,t}function U(l){let e,o;return e=new ee({props:{hovered:!(l[2]===null&&l[3]===null)&&l[12]<=l[2]&&l[10]<=l[3]}}),e.$on("mouseover",l[4](l[12],l[10])),e.$on("focus",l[4](l[12],l[10])),e.$on("mouseout",l[5]),e.$on("blur",l[5]),e.$on("click",l[6](l[12],l[10])),{c(){z(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){y(e,t,r),o=!0},p(t,r){const s={};r&12&&(s.hovered=!(t[2]===null&&t[3]===null)&&t[12]<=t[2]&&t[10]<=t[3]),e.$set(s)},i(t){o||(f(e.$$.fragment,t),o=!0)},o(t){g(e.$$.fragment,t),o=!1},d(t){E(e,t)}}}function A(l){let e,o,t={length:l[0]},r=[];for(let n=0;n<t.length;n+=1)r[n]=U(O(l,t,n));const s=n=>g(r[n],1,1,()=>{r[n]=null});return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=q()},l(n){for(let u=0;u<r.length;u+=1)r[u].l(n);e=q()},m(n,u){for(let i=0;i<r.length;i+=1)r[i].m(n,u);v(n,e,u),o=!0},p(n,u){if(u&125){t={length:n[0]};let i;for(i=0;i<t.length;i+=1){const a=O(n,t,i);r[i]?(r[i].p(a,u),f(r[i],1)):(r[i]=U(a),r[i].c(),f(r[i],1),r[i].m(e.parentNode,e))}for(J(),i=t.length;i<r.length;i+=1)s(i);L()}},i(n){if(!o){for(let u=0;u<t.length;u+=1)f(r[u]);o=!0}},o(n){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)g(r[u]);o=!1},d(n){X(r,n),n&&d(e)}}}function te(l){let e,o,t,r,s={length:l[1]},n=[];for(let i=0;i<s.length;i+=1)n[i]=A(N(l,s,i));const u=i=>g(n[i],1,1,()=>{n[i]=null});return{c(){e=G("div");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=M(i,"DIV",{class:!0});var a=V(e);for(let c=0;c<n.length;c+=1)n[c].l(a);a.forEach(d),this.h()},h(){p(e,"class","grid grid-cols-8 grid-rows-6 gap-3 place-content-center place-items-center min-w-fit max-w-fit min-h-fit max-h-fit")},m(i,a){v(i,e,a);for(let c=0;c<n.length;c+=1)n[c].m(e,null);o=!0,t||(r=[m(e,"mouseout",l[5]),m(e,"blur",l[5])],t=!0)},p(i,[a]){if(a&127){s={length:i[1]};let c;for(c=0;c<s.length;c+=1){const h=N(i,s,c);n[c]?(n[c].p(h,a),f(n[c],1)):(n[c]=A(h),n[c].c(),f(n[c],1),n[c].m(e,null))}for(J(),c=s.length;c<n.length;c+=1)u(c);L()}},i(i){if(!o){for(let a=0;a<s.length;a+=1)f(n[a]);o=!0}},o(i){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)g(n[a]);o=!1},d(i){i&&d(e),X(n,i),t=!1,F(r)}}}function ne(l,e,o){let{width:t,height:r=null}=e,s=null,n=null;const u=Y();function i(h,P){return function(){o(2,[s,n]=[h,P],s,o(3,n))}}function a(){o(2,[s,n]=[null,null],s,o(3,n))}function c(h,P){return function(){u("pick",{w:h+1,h:P+1})}}return l.$$set=h=>{"width"in h&&o(0,t=h.width),"height"in h&&o(1,r=h.height)},[t,r,s,n,i,a,c]}class re extends w{constructor(e){super(),$(this,e,ne,te,k,{width:0,height:1})}}function le(l){let e,o;return e=new re({props:{width:l[0],height:l[1]}}),e.$on("pick",l[2]),{c(){z(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){y(e,t,r),o=!0},p(t,r){const s={};r&1&&(s.width=t[0]),r&2&&(s.height=t[1]),e.$set(s)},i(t){o||(f(e.$$.fragment,t),o=!0)},o(t){g(e.$$.fragment,t),o=!1},d(t){E(e,t)}}}function oe(l){let e,o;return{c(){e=G("span"),o=j("pick grid size"),this.h()},l(t){e=M(t,"SPAN",{slot:!0,class:!0});var r=V(e);o=H(r,"pick grid size"),r.forEach(d),this.h()},h(){p(e,"slot","title"),p(e,"class","dark:text-white transition")},m(t,r){v(t,e,r),K(e,o)},p:b,d(t){t&&d(e)}}}function ie(l){let e,o;return e=new R({props:{$$slots:{title:[oe],default:[le]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){y(e,t,r),o=!0},p(t,[r]){const s={};r&11&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){o||(f(e.$$.fragment,t),o=!0)},o(t){g(e.$$.fragment,t),o=!1},d(t){E(e,t)}}}function se(l,e,o){let{width:t,height:r}=e;function s(n){_.call(this,l,n)}return l.$$set=n=>{"width"in n&&o(0,t=n.width),"height"in n&&o(1,r=n.height)},[t,r,s]}class ae extends w{constructor(e){super(),$(this,e,se,ie,k,{width:0,height:1})}}function ce(l){let e,o;return e=new ae({props:{width:8,height:6}}),e.$on("pick",l[0]),{c(){z(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){y(e,t,r),o=!0},p:b,i(t){o||(f(e.$$.fragment,t),o=!0)},o(t){g(e.$$.fragment,t),o=!1},d(t){E(e,t)}}}function ue(l,e,o){let t,r;C(l,I,n=>o(1,t=n)),C(l,D,n=>o(2,r=n));function s(n){B(D,r={w:n.detail.w,h:n.detail.h},r),T(`${Q}/config/brush`,{replaceState:!0})}return B(D,r=null,r),B(I,t=null,t),[s]}class _e extends w{constructor(e){super(),$(this,e,ue,ce,k,{})}}export{_e as default};
